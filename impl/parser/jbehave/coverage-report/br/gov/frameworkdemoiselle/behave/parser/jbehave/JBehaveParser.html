<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
<head>
  <title>JMockit Coverage Report</title>
  <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
  <link rel='stylesheet' type='text/css' href='../../../../../../coverage.css'/>
  <script type='text/javascript' src='../../../../../../coverage.js'></script>
  <link rel='stylesheet' type='text/css' href='../../../../../../prettify.css'/>
  <script type='text/javascript' src='../../../../../../prettify.js'></script>
</head>
<body onload='prettyPrint()'>
  <table cellpadding='0' cellspacing='1'>
    <caption><code>../jbehave/src/main/java/br/gov/frameworkdemoiselle/behave/parser/jbehave/JBehaveParser.java</code></caption>
    <tr class='click' onclick='showHideLines(this)'>
      <td class='line'></td><td>&nbsp;</td><td class='comment'>/*
 * Demoiselle Framework
 * Copyright (C) 2013 SERPRO
 * ----------------------------------------------------------------------------
 * This file is part of Demoiselle Framework.
 * 
 * Demoiselle Framework is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public License version 3
 * as published by the Free Software Foundation.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU Lesser General Public License version 3
 * along with this program; if not,  see &lt;http://www.gnu.org/licenses/>
 * or write to the Free Software Foundation, Inc., 51 Franklin Street,
 * Fifth Floor, Boston, MA  02110-1301, USA.
 * ----------------------------------------------------------------------------
 * Este arquivo é parte do Framework Demoiselle.
 * 
 * O Framework Demoiselle é um software livre; você pode redistribuí-lo e/ou
 * modificá-lo dentro dos termos da GNU LGPL versão 3 como publicada pela Fundação
 * do Software Livre (FSF).
 * 
 * Este programa é distribuído na esperança que possa ser útil, mas SEM NENHUMA
 * GARANTIA; sem uma garantia implícita de ADEQUAÇÃO a qualquer MERCADO ou
 * APLICAÇÃO EM PARTICULAR. Veja a Licença Pública Geral GNU/LGPL em português
 * para maiores detalhes.
 * 
 * Você deve ter recebido uma cópia da GNU LGPL versão 3, sob o título
 * "LICENCA.txt", junto com esse programa. Se não, acesse &lt;http://www.gnu.org/licenses/>
 * ou escreva para a Fundação do Software Livre (FSF) Inc.,
 * 51 Franklin St, Fifth Floor, Boston, MA 02111-1301, USA.
 */
</td></tr>
    <tr>
      <td class='line'>37</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>package br.gov.frameworkdemoiselle.behave.parser.jbehave;</pre></td>
    </tr>
    <tr>
      <td class='line'>38</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>39</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import java.text.SimpleDateFormat;</pre></td>
    </tr>
    <tr>
      <td class='line'>40</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import java.util.ArrayList;</pre></td>
    </tr>
    <tr>
      <td class='line'>41</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import java.util.List;</pre></td>
    </tr>
    <tr>
      <td class='line'>42</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import java.util.Locale;</pre></td>
    </tr>
    <tr>
      <td class='line'>43</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import java.util.logging.Level;</pre></td>
    </tr>
    <tr>
      <td class='line'>44</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import java.util.logging.Logger;</pre></td>
    </tr>
    <tr>
      <td class='line'>45</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>46</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.ConfigurableEmbedder;</pre></td>
    </tr>
    <tr>
      <td class='line'>47</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.configuration.Configuration;</pre></td>
    </tr>
    <tr>
      <td class='line'>48</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.configuration.Keywords;</pre></td>
    </tr>
    <tr>
      <td class='line'>49</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.embedder.Embedder;</pre></td>
    </tr>
    <tr>
      <td class='line'>50</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.embedder.EmbedderControls;</pre></td>
    </tr>
    <tr>
      <td class='line'>51</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.embedder.StoryControls;</pre></td>
    </tr>
    <tr>
      <td class='line'>52</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.i18n.LocalizedKeywords;</pre></td>
    </tr>
    <tr>
      <td class='line'>53</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.parsers.RegexStoryParser;</pre></td>
    </tr>
    <tr>
      <td class='line'>54</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.reporters.Format;</pre></td>
    </tr>
    <tr>
      <td class='line'>55</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.reporters.StoryReporterBuilder;</pre></td>
    </tr>
    <tr>
      <td class='line'>56</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.steps.InjectableStepsFactory;</pre></td>
    </tr>
    <tr>
      <td class='line'>57</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.steps.InstanceStepsFactory;</pre></td>
    </tr>
    <tr>
      <td class='line'>58</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.steps.ParameterConverters;</pre></td>
    </tr>
    <tr>
      <td class='line'>59</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.steps.ParameterConverters.DateConverter;</pre></td>
    </tr>
    <tr>
      <td class='line'>60</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import org.jbehave.core.steps.StepFinder;</pre></td>
    </tr>
    <tr>
      <td class='line'>61</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>62</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import br.gov.frameworkdemoiselle.behave.parser.Parser;</pre></td>
    </tr>
    <tr>
      <td class='line'>63</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import br.gov.frameworkdemoiselle.behave.parser.Step;</pre></td>
    </tr>
    <tr>
      <td class='line'>64</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>import br.gov.frameworkdemoiselle.behave.util.FileUtil;</pre></td>
    </tr>
    <tr>
      <td class='line'>65</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>66</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>public class JBehaveParser extends ConfigurableEmbedder implements Parser {</pre></td>
    </tr>
    <tr>
      <td class='line'>67</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>68</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l68s0'>	private Logger <span class='instance covered' title='Reads: 7 Writes: 4'>logger</span> = Logger.getLogger(this.toString());</pre></td>
    </tr>
    <tr>
      <td class='line'>69</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	private Configuration <span class='instance covered' title='Reads: 40 Writes: 4'>configuration</span>;</pre></td>
    </tr>
    <tr>
      <td class='line'>70</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>71</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l71s0'>	private List&lt;String> <span class='instance uncovered' title='Reads: 2 Writes: 4'>storyPaths</span> = new ArrayList&lt;String>();</pre></td>
    </tr>
    <tr>
      <td class='line'>72</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l72s0'>	private List&lt;Step> <span class='instance covered' title='Reads: 18 Writes: 4'>steps</span> = new ArrayList&lt;Step>();</pre></td>
    </tr>
    <tr>
      <td class='line'>73</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>74</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l74s0'>	public JBehaveParser() {</pre></td>
    </tr>
    <tr>
      <td class='line'>75</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l75s0'>		logger.log(Level.INFO, "Configurando o JBheave");</pre></td>
    </tr>
    <tr>
      <td class='line'>76</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>77</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l77s0'>		ParameterConverters parameterConverters = new ParameterConverters();</pre></td>
    </tr>
    <tr>
      <td class='line'>78</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l78s0'>		parameterConverters.addConverters(new DateConverter(new SimpleDateFormat("dd/MM/yyyy")));</pre></td>
    </tr>
    <tr>
      <td class='line'>79</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>80</td><td class='count'>8</td>
      <td><pre class='prettyprint covered' id='l80s0'>		configuration = new Configuration() {</pre></td>
    </tr>
    <tr>
      <td class='line'>81</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>		};</pre></td>
    </tr>
    <tr>
      <td class='line'>82</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>83</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l83s0'>		configuration.useParameterConverters(parameterConverters);</pre></td>
    </tr>
    <tr>
      <td class='line'>84</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l84s0'>		configuration.useKeywords(getKeywordsLocale());</pre></td>
    </tr>
    <tr>
      <td class='line'>85</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l85s0'>		configuration.useStepFinder(new StepFinder());</pre></td>
    </tr>
    <tr>
      <td class='line'>86</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l86s0'>		configuration.useStoryControls(new StoryControls());</pre></td>
    </tr>
    <tr>
      <td class='line'>87</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l87s0'>		configuration.useStoryParser(new RegexStoryParser(configuration.keywords()));</pre></td>
    </tr>
    <tr>
      <td class='line'>88</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l88s0'>		configuration.useStoryReporterBuilder(new StoryReporterBuilder().withFormats(Format.CONSOLE, Format.HTML, Format.STATS));</pre></td>
    </tr>
    <tr>
      <td class='line'>89</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>90</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l90s0'>		EmbedderControls embedderControls = configuredEmbedder().embedderControls();</pre></td>
    </tr>
    <tr>
      <td class='line'>91</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l91s0'>		embedderControls.doBatch(false);</pre></td>
    </tr>
    <tr>
      <td class='line'>92</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l92s0'>		embedderControls.doGenerateViewAfterStories(true);</pre></td>
    </tr>
    <tr>
      <td class='line'>93</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l93s0'>		embedderControls.doIgnoreFailureInStories(false);</pre></td>
    </tr>
    <tr>
      <td class='line'>94</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l94s0'>		embedderControls.doIgnoreFailureInView(false);</pre></td>
    </tr>
    <tr>
      <td class='line'>95</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l95s0'>		embedderControls.doSkip(false);</pre></td>
    </tr>
    <tr>
      <td class='line'>96</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l96s0'>		embedderControls.doVerboseFailures(false);</pre></td>
    </tr>
    <tr>
      <td class='line'>97</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l97s0'>		embedderControls.doVerboseFiltering(false);</pre></td>
    </tr>
    <tr>
      <td class='line'>98</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l98s0'>		embedderControls.useStoryTimeoutInSecs(60 * 60 * 24);</pre></td>
    </tr>
    <tr>
      <td class='line'>99</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l99s0'>		embedderControls.useThreads(1);</pre></td>
    </tr>
    <tr>
      <td class='line'>100</td><td class='count'>4</td>
      <td><pre class='prettyprint covered' id='l100s0'>	}</pre></td>
    </tr>
    <tr>
      <td class='line'>101</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>102</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public Keywords getKeywordsLocale() {</pre></td>
    </tr>
    <tr>
      <td class='line'>103</td><td class='count'>5</td>
      <td><pre class='prettyprint covered' id='l103s0'>		return new LocalizedKeywords(new Locale("pt"));</pre></td>
    </tr>
    <tr>
      <td class='line'>104</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr>
      <td class='line'>105</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>106</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public void run() throws Throwable {</pre></td>
    </tr>
    <tr>
      <td class='line'>107</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l107s0'>		logger.log(Level.INFO, "Iniciou o PARSER JBehave");</pre></td>
    </tr>
    <tr>
      <td class='line'>108</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>109</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l109s0'>		Embedder embedder = configuredEmbedder();</pre></td>
    </tr>
    <tr>
      <td class='line'>110</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>		try {</pre></td>
    </tr>
    <tr>
      <td class='line'>111</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l111s0'>			logger.log(Level.INFO, "storyPaths: " + storyPaths.toString());</pre></td>
    </tr>
    <tr>
      <td class='line'>112</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l112s0'>			embedder.runStoriesAsPaths(storyPaths);</pre></td>
    </tr>
    <tr>
      <td class='line'>113</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>		} finally {</pre></td>
    </tr>
    <tr>
      <td class='line'>114</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l114s0'>			embedder.generateCrossReference();</pre></td>
    </tr>
    <tr>
      <td class='line'>115</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l115s0'>		}</pre></td>
    </tr>
    <tr>
      <td class='line'>116</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>117</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l117s0'>		logger.log(Level.INFO, "Finalizou PARSER JBehave");</pre></td>
    </tr>
    <tr>
      <td class='line'>118</td><td class='count'>1</td>
      <td><pre class='prettyprint covered' id='l118s0'>	}</pre></td>
    </tr>
    <tr>
      <td class='line'>119</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>120</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	@Override</pre></td>
    </tr>
    <tr>
      <td class='line'>121</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public Configuration configuration() {</pre></td>
    </tr>
    <tr>
      <td class='line'>122</td><td class='count'>12</td>
      <td><pre class='prettyprint covered' id='l122s0'>		return configuration;</pre></td>
    </tr>
    <tr>
      <td class='line'>123</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr>
      <td class='line'>124</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>125</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	@Override</pre></td>
    </tr>
    <tr>
      <td class='line'>126</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public InjectableStepsFactory stepsFactory() {</pre></td>
    </tr>
    <tr>
      <td class='line'>127</td><td class='count'>6</td>
      <td><pre class='prettyprint covered' id='l127s0'>		steps.add(new BeforeAfterSteps());</pre></td>
    </tr>
    <tr>
      <td class='line'>128</td><td class='count'>6</td>
      <td><pre class='prettyprint covered' id='l128s0'>		steps.add(new CommonSteps());		</pre></td>
    </tr>
    <tr>
      <td class='line'>129</td><td class='count'>6</td>
      <td><pre class='prettyprint covered' id='l129s0'>		return new InstanceStepsFactory(configuration(), steps.toArray());</pre></td>
    </tr>
    <tr>
      <td class='line'>130</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	}</pre></td>
    </tr>
    <tr>
      <td class='line'>131</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>132</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	@Override</pre></td>
    </tr>
    <tr>
      <td class='line'>133</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public void setStoryPaths(List&lt;String> storyPaths) {</pre></td>
    </tr>
    <tr>
      <td class='line'>134</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l134s0'>		List&lt;String> aux = new ArrayList&lt;String>();</pre></td>
    </tr>
    <tr>
      <td class='line'>135</td><td class='count'>0</td>
      <td><pre class='prettyprint jmp'>		<span id='l135s0' title='Executions: 0' class='uncovered'>for (String str</span> : <span id='l135s1' title='Executions: 0' class='uncovered'>storyPaths)</span> </pre></td>
    </tr>
    <tr>
      <td class='line'>136</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l136s0'>			aux.add(str.replace(FileUtil.getAbsolutePath(".") + "/", ""));</pre></td>
    </tr>
    <tr>
      <td class='line'>137</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>		}</pre></td>
    </tr>
    <tr>
      <td class='line'>138</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l138s0'>		this.storyPaths = aux;</pre></td>
    </tr>
    <tr>
      <td class='line'>139</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l139s0'>	}</pre></td>
    </tr>
    <tr>
      <td class='line'>140</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>141</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	@Override</pre></td>
    </tr>
    <tr>
      <td class='line'>142</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>	public void setSteps(List&lt;Step> steps) {</pre></td>
    </tr>
    <tr>
      <td class='line'>143</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l143s0'>		this.steps = steps;</pre></td>
    </tr>
    <tr>
      <td class='line'>144</td><td class='count'>0</td>
      <td><pre class='prettyprint uncovered' id='l144s0'>	}</pre></td>
    </tr>
    <tr>
      <td class='line'>145</td><td colspan='2'></td>
    </tr>
    <tr>
      <td class='line'>146</td><td>&nbsp;</td>
      <td><pre class='prettyprint'>}</pre></td>
    </tr>
  </table>
</body>
</html>
